# ----- Basic Settings -----
set -g mouse on                     # Enable mouse support
set -g history-limit 10000         # Bigger scrollback buffer
setw -g mode-keys vi               # Vim keybindings in copy mode
set-option -ga terminal-overrides ",xterm-256color:RGB"


# ----- Copy Mode (Vim + system clipboard via xclip) -----
bind [ copy-mode                   # Enter copy mode with Ctrl + b then [
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi V send -X select-line
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "xclip -selection clipboard -in"
bind -T copy-mode-vi Escape send -X cancel

# ----- Reload config -----
bind r source-file ~/.tmux.conf \; display-message "tmux config reloaded ðŸŽ‰"

# ----- Pane Management -----
bind | split-window -h             # Split pane horizontally
bind - split-window -v             # Split pane vertically
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with Alt + Arrow keys
bind -n M-Left resize-pane -L 5
bind -n M-Right resize-pane -R 5
bind -n M-Up resize-pane -U 5
bind -n M-Down resize-pane -D 5

# ----- Window/Session Shortcuts -----
bind c new-window                  # Create new window
bind , command-prompt "rename-window '%%'"
bind & kill-window                 # Kill current window
bind n next-window                 # Next window
bind p previous-window             # Previous window
bind w choose-window               # List all windows

# ----- Status Bar -----
set -g status-interval 5
set -g status-justify centre
set -g status-left-length 60
set -g status-right-length 120
set -g status-left "#[bold]#S"
set -g status-right "#[fg=green]%Y-%m-%d #[fg=cyan]%H:%M:%S #[fg=yellow]#(whoami)"

# ----- Other Quality of Life -----
set-option -g allow-rename off     # Don't rename windows on ssh or commands
set-option -g renumber-windows on  # Auto renumber windows when some are closed


# TPM Plugin Manager
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Automatically save and restore sessions
set -g @continuum-restore 'off'
set -g @resurrect-capture-pane-contents 'on'

# TPM initialization
run '~/.tmux/plugins/tpm/tpm'
